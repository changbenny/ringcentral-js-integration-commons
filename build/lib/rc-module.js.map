{"version":3,"sources":["lib/rc-module.js"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;;;AAEA,IAAM,UAAU,wBAAc,CAC5B,OAD4B,EAE5B,QAF4B,EAG5B,QAH4B,EAI5B,SAJ4B,CAAd,CAAhB;;AAOA,SAAS,cAAT,CAAwB,KAAxB,EAA+B;AAC7B,MAAI,OAAO,KAAP,KAAiB,WAArB,EAAkC,OAAO,EAAP;AAClC,SAAO,KAAP;AACD;AACD,SAAS,aAAT,CAAuB,KAAvB,EAA8B;AAC5B,SAAO,KAAP;AACD;;IAEoB,Q;AACnB,0BAKG;AAAA;;AAAA,QAJD,oBAIC,QAJD,oBAIC;AAAA,gCAHD,WAGC;AAAA,QAHD,WAGC,oCAHa,aAGb;AAAA,QAFD,MAEC,QAFD,MAEC;AAAA,QADD,OACC,QADD,OACC;AAAA;;AACD,SAAK,QAAQ,MAAb,IAAuB,WAAvB;AACA,SAAK,QAAQ,MAAb,IAAuB,MAAvB;AACA,SAAK,QAAQ,OAAb,IAAwB,WAAW,gCAAc,OAAd,EAAuB,MAAvB,CAAnC;AACA,yBAAqB,UAAC,KAAD,EAAW;AAC9B,YAAK,QAAQ,KAAb,IAAsB,KAAtB;AACD,KAFD;AAGD;;;;wBACW;AACV,aAAO,KAAK,QAAQ,MAAb,EAAqB,KAAK,QAAQ,KAAb,EAAoB,QAApB,EAArB,CAAP;AACD;;;wBACa;AACZ,aAAO,cAAP;AACD;;;wBACW;AACV,aAAO,KAAK,QAAQ,KAAb,CAAP;AACD;;;wBACY;AACX,aAAO,KAAK,QAAQ,MAAb,CAAP;AACD;;;wBAEa;AACZ,aAAO,KAAK,QAAQ,OAAb,CAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBA7BkB,Q","file":"rc-module.js","sourcesContent":["import SymbolMap from './symbol-map';\nimport { prefixActions } from './redux-helper';\n\nconst symbols = new SymbolMap([\n  'store',\n  'mapper',\n  'prefix',\n  'actions',\n]);\n\nfunction defaultReducer(state) {\n  if (typeof state === 'undefined') return {};\n  return state;\n}\nfunction defaultMapper(state) {\n  return state;\n}\n\nexport default class RcModule {\n  constructor({\n    registerStoreHandler,\n    stateMapper = defaultMapper,\n    prefix,\n    actions,\n  }) {\n    this[symbols.mapper] = stateMapper;\n    this[symbols.prefix] = prefix;\n    this[symbols.actions] = actions && prefixActions(actions, prefix);\n    registerStoreHandler((store) => {\n      this[symbols.store] = store;\n    });\n  }\n  get state() {\n    return this[symbols.mapper](this[symbols.store].getState());\n  }\n  get reducer() {\n    return defaultReducer;\n  }\n  get store() {\n    return this[symbols.store];\n  }\n  get prefix() {\n    return this[symbols.prefix];\n  }\n\n  get actions() {\n    return this[symbols.actions];\n  }\n\n}\n\n\n/*\n\n  //need away to return reducer for store creation\n  //and accept created store to dispatch events\n\n  class TestModule extends RcModule {\n\n  }\n\n\n  class RcPhone extends RcModule {\n    constructor({\n      settings,\n      getStore,\n    }) {\n\n    }\n\n\n  }\n\n\n*/\n"]}